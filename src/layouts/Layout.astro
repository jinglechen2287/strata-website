---
import "~/index.css";
import { STRATA_URL } from "~/constants";
import Analytics from "@vercel/analytics/astro";
---

<!doctype html>
<html lang="en" class="dark">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <meta
            name="description"
            content="Strata is a web-based real-time XR design tool that lets you create, edit, and share spatial designs in minutes."
        />
        <meta name="robots" content="index, follow" />
        <meta name="generator" content={Astro.generator} />

        <meta
            property="og:title"
            content="Strata - the XR design tool you'll love"
        />
        <meta
            property="og:description"
            content="Strata is a web-based real-time XR design tool that lets you create, edit, and share spatial designs in minutes."
        />
        <meta property="og:image" content="/strataSocialImage.png" />
        <meta property="og:url" content={STRATA_URL} />
        <meta property="og:type" content="website" />
        <meta property="og:site_name" content="Strata" />

        <meta name="twitter:card" content="summary_large_image" />
        <meta
            name="twitter:title"
            content="Strata - the XR design tool you'll love"
        />
        <meta
            name="twitter:description"
            content="Strata is a web-based real-time XR design tool that lets you create, edit, and share spatial designs in minutes."
        />
        <meta name="twitter:image" content="/strataSocialImage.png" />

        <link rel="icon" type="image/png" sizes="48x48" href="/strata.png" />
        <link rel="icon" type="image/svg+xml" href="/strata.svg" />
        <title>Strata - the XR design tool you'll love</title>
    </head>
    <body>
        <div class="scale-wrapper">
            <slot />
        </div>
        <Analytics />
        <script>
            // Proportionally scale content for screens larger than 1720px
            const SCALE_BREAKPOINT = 2560;

            function updateScale() {
                const wrapper = document.querySelector('.scale-wrapper') as HTMLElement;
                if (!wrapper) return;

                const viewportWidth = window.innerWidth;
                
                if (viewportWidth > SCALE_BREAKPOINT) {
                    const scaleFactor = viewportWidth / SCALE_BREAKPOINT * 1.25;
                    wrapper.style.zoom = String(scaleFactor);
                } else {
                    wrapper.style.zoom = '1';
                }
            }

            // Initial scale
            updateScale();

            // Update on resize
            window.addEventListener('resize', updateScale);
        </script>
    </body>
</html>

<style>
    html,
    body {
        margin: 0;
        width: 100%;
        height: 100%;
        background-color: #0d0d0d;
    }

    .scale-wrapper {
        width: 100%;
        min-height: 100%;
    }
</style>
